<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/style.css">
    <title>FragileOcean</title>
</head>

<body onload="grafica();">
    <div class="container">
        <div class="navigation">
            <ul>
                <li>
                    <a href="#">
                        <span class="icon"><ion-icon name="water"></ion-icon></span>
                        <span class="title_1">FragileOcean</span>
                    </a>
                </li>
                <li>
                    <a href="/fragileocean/registrarV">
                        <span class="icon"><ion-icon name="home"></ion-icon></span>
                        <span class="title">Registrar Vehiculos</span>
                    </a>
                </li>
                <li>
                    <a href="/fragileocean/registrarP">
                        <span class="icon"><ion-icon name="people"></ion-icon></span>
                        <span class="title">Registrar Pasaportes</span>
                    </a>
                </li>
                <li>
                    <a href="/fragileocean/consulta_usuarios">
                        <span class="icon"><ion-icon name="chatboxes"></ion-icon></span>
                        <span class="title">Consultar Usuarios</span>
                    </a>
                </li>
                <li>
                    <a href="/fragileocean/consulta_vehiculos">
                        <span class="icon"><ion-icon name="help-circle-outline"></ion-icon></span>
                        <span class="title">Consultar Vehiculos</span>
                    </a>
                </li>
                <li>
                    <a href="/fragileocean/consulta_pasaportes">
                        <span class="icon"><ion-icon name="settings"></ion-icon></span>
                        <span class="title">Consultar Pasaportes</span>
                    </a>
                </li>
                <li>
                    <a href="/fragileocean/consulta_turnos">
                        <span class="icon"><ion-icon name="lock"></ion-icon></span>
                        <span class="title">Turno Recolectores</span>
                    </a>
                </li>
                <li>
                    <a href="/servicios">
                        <span class="icon"><ion-icon name="log-out"></ion-icon></span>
                        <span class="title">Servicios</span>
                    </a>
                </li>
            </ul>
        </div>

        <!--/-->

        <div class="main">
            <div class="topbar">
                <div class="toggle">
                    <ion-icon name="menu"></ion-icon>
                </div>
                <!-- Search -->
                <div class="search">
                    <label>
                        <input type="text" placeholder="Search here">
                        <ion-icon name="search"></ion-icon>
                    </label>
                </div>
                <!-- UserImg -->
                <div class="user">
                    <a href="user.html"><img src="/img/user_2.png"></a>
                </div>
            </div>
            <!--/-->
            <div class="cardBox">
                <div class="card">
                    <div>
                        <div class="numbers">1,504</div>
                        <div class="cardName">Vistas Diarias</div>
                    </div>
                    <div class="iconBx">
                        <ion-icon name="eye"></ion-icon>
                    </div>
                </div>
                <div class="card">
                    <div>
                        <div class="numbers">80</div>
                        <div class="cardName">Ventas</div>
                    </div>
                    <div class="iconBx">
                        <ion-icon name="wallet"></ion-icon>
                    </div>
                </div>
                <div class="card">
                    <div>
                        <div class="numbers">284</div>
                        <div class="cardName">Comentarios</div>
                    </div>
                    <div class="iconBx">
                        <ion-icon name="chatbubbles"></ion-icon>
                    </div>
                </div>
                <div class="card">
                    <div>
                        <div class="numbers">$7,842</div>
                        <div class="cardName">Reciclaje</div>
                    </div>
                    <div class="iconBx">
                        <ion-icon name="water"></ion-icon>
                    </div>
                </div>
            </div>

            <!--/-->
            <div class="graphBox">

                <div class="box" id="contegraf">
                    <canvas id="miGrafico" style="position:relative;height:40vh;width:80vw;"></canvas>
                </div>
                <div class="box">
                    <canvas id="miReciclaje"></canvas>
                </div>
            </div>

            <div class="details">
                <div class="recentOrders">
                    <div class="cardHeader">
                        <h2>Recent Orders</h2>
                        <a href="#" class="btn">View All</a>
                    </div>
                    <table>
                        <thead>
                            <td>
                                <td>Name</td>
                                <td>Price</td>
                                <td>Payment</td>
                                <td>Status</td>
                            </td>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Star Refrigerator</td>
                                <td>$1200</td>
                                <td>Paid</td>
                                <td><span class="status delivered">Delivered</span></td>
                            </tr>
                            <tr>
                                <td>Star Refrigerator</td>
                                <td>$1200</td>
                                <td>Paid</td>
                                <td><span class="status delivered">Delivered</span></td>
                            </tr>
                            <tr>
                                <td>Star Refrigerator</td>
                                <td>$1200</td>
                                <td>Paid</td>
                                <td><span class="status delivered">Delivered</span></td>
                            </tr>
                            <tr>
                                <td>Star Refrigerator</td>
                                <td>$1200</td>
                                <td>Paid</td>
                                <td><span class="status delivered">Delivered</span></td>
                            </tr>
                            <tr>
                                <td>Star Refrigerator</td>
                                <td>$1200</td>
                                <td>Paid</td>
                                <td><span class="status delivered">Delivered</span></td>
                            </tr>
                            <tr>
                                <td>Star Refrigerator</td>
                                <td>$1200</td>
                                <td>Paid</td>
                                <td><span class="status delivered">Delivered</span></td>
                            </tr>
                            <tr>
                                <td>Star Refrigerator</td>
                                <td>$1200</td>
                                <td>Paid</td>
                                <td><span class="status delivered">Delivered</span></td>
                            </tr>
                            <tr>
                                <td>Star Refrigerator</td>
                                <td>$1200</td>
                                <td>Paid</td>
                                <td><span class="status delivered">Delivered</span></td>
                            </tr>
                            <tr>
                                <td>Star Refrigerator</td>
                                <td>$1200</td>
                                <td>Paid</td>
                                <td><span class="status delivered">Delivered</span></td>
                            </tr>
                            <tr>
                                <td>Star Refrigerator</td>
                                <td>$1200</td>
                                <td>Paid</td>
                                <td><span class="status delivered">Delivered</span></td>
                            </tr>
                            <tr>
                                <td>Star Refrigerator</td>
                                <td>$1200</td>
                                <td>Paid</td>
                                <td><span class="status delivered">Delivered</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!--/-->
                <div class="recentCustomers">
                    <div class="cardHeader">
                        <h2>Recent Customers</h2>
                    </div>
                    <table>
                        <tr>
                            <td width="60px">
                                <div class="imgBx"><img src="/img/img1.jpg" alt=""></div>
                            </td>
                            <td>
                                <h4>Ramon Osvaldo Mu√±oz<br><span>Colombia</span></h4>
                            </td>
                        </tr>
                        <tr>
                            <td width="60px">
                                <div class="imgBx"><img src="/img/img2.jpg" alt=""></div>
                            </td>
                            <td>
                                <h4>Homero Sanchez Cardona<br><span>Colombia</span></h4>
                            </td>
                        </tr>
                        <tr>
                            <td width="60px">
                                <div class="imgBx"><img src="/img/img3.jpg" alt=""></div>
                            </td>
                            <td>
                                <h4>Maria Gomez Trinidad<br><span>Colombia</span></h4>
                            </td>
                        </tr>
                        <tr>
                            <td width="60px">
                                <div class="imgBx"><img src="/img/img4.jpg" alt=""></div>
                            </td>
                            <td>
                                <h4>Raquel Alejandra Londo√±ez<br><span>Colombia</span></h4>
                            </td>
                        </tr>
                        <tr>
                            <td width="60px">
                                <div class="imgBx"><img src="/img/img5.jpg" alt=""></div>
                            </td>
                            <td>
                                <h4>Jorge Alvarez Zu√±iga<br><span>Colombia</span></h4>
                            </td>
                        </tr>
                        <tr>
                            <td width="60px">
                                <div class="imgBx"><img src="/img/img6.jpg" alt=""></div>
                            </td>
                            <td>
                                <h4>Jose Manuel Yela<br><span>Colombia</span></h4>
                            </td>
                        </tr>
                        <tr>
                            <td width="60px">
                                <div class="imgBx"><img src="/img/img10.jpg" alt=""></div>
                            </td>
                            <td>
                                <h4>Carlos C√≥rdoba Alfaro<br><span>Colombia</span></h4>
                            </td>
                        </tr>
                        <tr>
                            <td width="60px">
                                <div class="imgBx"><img src="/img/img8.jpg" alt=""></div>
                            </td>
                            <td>
                                <h4>Maicol Mendoza Ortiz<br><span>Colombia</span></h4>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.6.2/dist/chart.min.js"></script>

    <script src="/js/my_chart.js"></script>
    <script src="/js/graficos.js"></script>
    <script>

    window.onload = function grafica(){
        document.getElementById("miGrafico").remove();
        var canvas = document.createElement("canvas");
        canvas.id = "miGrafico";
        document.getElementById("contegraf").appendChild(canvas);
        var ctx = document.getElementById('miGrafico')
        var recycling = document.getElementById('miReciclaje');
         var myChart = new Chart(ctx, {
             type:'bar',
             data:{
                 datasets: [{
                     label:'Stock de Productos',
                     backgroundColor: ['#6bf1ab','#63d69f','#438c6c','#509c7f','#1f794e','#90CAF9','#64B5F6','#42A5F5','#2196F3','#0D47A1'],
                     borderColor:['black'],
                     borderWidth:5
                 }]
             },
             options:{
                 scales:{
                     y:{
                         beginAtZero:true
                     }
                 }
             }
         })
        let url = 'https://jsonplaceholder.typicode.com/todos';
        fetch(url)
            .then(response => response.json())
            .then( datos => mostrar(datos))
            .catch( error => console.log(error))

        const mostrar = (articulos) =>{
            let cont = 0;
            articulos.forEach(element => {
                if(cont<120){
                console.log(element);
                myChart.data['labels'].push(element.completed)
                myChart.data['datasets'][0].data.push(element.id);
                //console.log(element)
                }
                cont=cont+10;
            });
            console.log(myChart.data);
        }


        var mChart = new Chart(recycling, {
    type: 'bar',
    data: {
        labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', "Noviembre", 'Diciembre'],
        datasets: [{
            label: 'Reciclaje',
            data: [1200, 1900, 3000, 5400, 1220, 3600, 4800, 4578, 2566, 8545, 4587, 9000],
            backgroundColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ]
        }]
    },
    options: {
        responsive: true,
    }
});

   }
   /* (document).ready( function() {
       grafica();
    } )*/
   </script>
    <script>
        //MenuToggle
        let toggle = document.querySelector('.toggle');
        let navigation = document.querySelector('.navigation');
        let main = document.querySelector('.main');

        toggle.onclick = function() {
            navigation.classList.toggle('active');
            main.classList.toggle('active');
        }

        //Agregar Hovered class en selected list item
        let list = document.querySelectorAll('.navigation li');

        function activeLink() {
            list.forEach((item) =>
                item.classList.remove('hovered'));
            this.classList.add('hovered');
        }
        list.forEach((item) => item.addEventListener('mouseover', activeLink));
    </script>
</body>

</html>